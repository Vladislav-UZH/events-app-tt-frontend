"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[401],{7616:function(e,n,t){t.d(n,{x:function(){return u}});var r,a=t(168),i=t(4934).Z.div(r||(r=(0,a.Z)(["\n  margin: 0 auto;\n  padding: 20px 10px;\n  border-radius: 8px;\n  min-width: 700px;\n  min-height: 200px;\n  background-color: rgb(50, 52, 59);\n"]))),c=t(184),u=function(e){e.filterOptions;var n=e.children;return(0,c.jsx)(i,{children:n})}},8636:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(184),a=function(e){var n=e.currentOptions,t=e.handleChangeFilterOption,a=e.handleChangeFilterValue;return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{name:"filter",placeholder:"Enter to search",onChange:a}),(0,r.jsx)("select",{as:"select",onChange:t,defaultValue:n[0],name:"filterOption",children:n.map((function(e){return(0,r.jsx)("option",{value:e,children:e},e)}))})]})}},7493:function(e,n,t){t.d(n,{l:function(){return u}});var r=t(184),a=t(5705),i=a.Formik,c=a.Form,u=function(e){var n=e.initialValues,t=e.onSubmit,a=e.children;return(0,r.jsx)(i,{initialValues:n,onSubmit:t,children:(0,r.jsx)(c,{children:a})})}},834:function(e,n,t){t.d(n,{Fg:function(){return x},W2:function(){return g},X2:function(){return f},gN:function(){return v},iA:function(){return p},m8:function(){return h}});var r,a,i,c,u,o,s=t(168),l=t(4934),d=t(1087),p=l.Z.table(r||(r=(0,s.Z)(["\n  position: relative;\n  min-width: 800px;\n"]))),f=l.Z.tr(a||(a=(0,s.Z)(["\n  background-color: #585a63;\n"]))),h=l.Z.th(i||(i=(0,s.Z)(["\n  padding: 10px;\n"]))),v=l.Z.td(c||(c=(0,s.Z)(["\n  text-align: center;\n  padding: 10px;\n"]))),x=(0,l.Z)(d.NavLink)(u||(u=(0,s.Z)(["\n  text-decoration: underline;\n  transition: color ",";\n  &:hover {\n    color: #e2580a;\n  }\n"])),"cubic-bezier(.06,.57,.52,.97) 300ms"),g=l.Z.div(o||(o=(0,s.Z)(["\n  display: flex;\n  gap: 20px;\n"])))},5488:function(e,n,t){t.d(n,{u:function(){return l}});var r=t(2791),a=t(184),i=t(4164).createPortal,c=t(2165),u=c.StyledModal,o=c.Overlay,s=document.querySelector("#modal-root"),l=function(e){var n=e.children,t=e.onClose;(0,r.useEffect)((function(){function e(e){"Escape"===e.code&&t()}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);return i((0,a.jsx)(o,{onClick:function(e){e.target===e.currentTarget&&t()},children:(0,a.jsx)(u,{children:n})}),s)}},2165:function(e,n,t){t.r(n),t.d(n,{Overlay:function(){return u},StyledModal:function(){return o}});var r,a,i=t(168),c=t(4934),u=c.Z.div(r||(r=(0,i.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n"]))),o=c.Z.div(a||(a=(0,i.Z)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n"])))},9141:function(e,n,t){t.d(n,{Bt:function(){return p},IP:function(){return l},Tx:function(){return o},VY:function(){return s},uk:function(){return u},yM:function(){return d}});var r=t(5861),a=t(4687),i=t.n(a),c=t(1243);c.Z.defaults.baseURL="http://localhost:8080/api";var u=function(){var e=(0,r.Z)(i().mark((function e(){var n,t,r,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:1,t=a.length>1&&void 0!==a[1]?a[1]:10,e.prev=2,e.next=5,c.Z.get("/authors?page=".concat(n,"&limit=").concat(t));case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.post("/authors/",n);case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.delete("/authors/".concat(n));case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(i().mark((function e(n){var t,r,a,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:1,r=u.length>2&&void 0!==u[2]?u[2]:10,e.prev=2,e.next=5,c.Z.get("/events/author/".concat(n,"?page=").concat(t,"&limit=").concat(r));case 5:return a=e.sent,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(i().mark((function e(n,t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.post("/events/author/".concat(n),t);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.delete("/events/".concat(n));case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()},3401:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(7616),a=t(3433),i=t(5861),c=t(9439),u=t(4687),o=t.n(u),s=t(3535),l=t(7493),d=t(5705),p=t(184),f=function(e){var n=e.handleCreate,t=/^(19|20)\d\d[- /.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])$/;return(0,p.jsx)(l.l,{initialValues:{title:"",description:"",startDate:"",endDate:""},onSubmit:function(e){var t=new Date(e.startDate);new Date(e.endDate)<t?alert("End date should be greater than or equal to start date."):n(e)},children:(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,p.jsx)(d.Field,{minLength:"2",maxLength:"30",name:"title",required:!0,placeholder:"enter a title"}),(0,p.jsx)(d.Field,{minLength:"2",maxLength:"100",as:"textarea",name:"description",required:!0,placeholder:"enter a description"}),(0,p.jsx)(d.Field,{name:"startDate",type:"date",pattern:t,required:!0}),(0,p.jsx)(d.Field,{name:"endDate",type:"date",pattern:t,required:!0}),(0,p.jsx)(s.z,{title:"Save",type:"submit"})]})})},h=t(834),v=function(e){var n=e.keys,t=e.events,r=e.handleDelete;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{overflowY:"scroll",height:400},children:(0,p.jsxs)(h.iA,{children:[(0,p.jsx)("thead",{children:(0,p.jsx)(h.X2,{children:n.map((function(e){return(0,p.jsx)(h.m8,{children:e},e)}))})}),(0,p.jsx)("tbody",{children:!!t.length&&t.map((function(e){var n=e._id,t=e.title,a=e.description,i=e.startDate,c=e.endDate;return(0,p.jsxs)(h.X2,{children:[(0,p.jsx)(h.gN,{children:t}),(0,p.jsx)(h.gN,{children:a}),(0,p.jsx)(h.gN,{children:i}),(0,p.jsx)(h.gN,{children:c}),(0,p.jsx)(h.gN,{children:(0,p.jsx)(s.z,{title:"X",onClick:function(){return r(n)}})})]},n)}))})]})}),!t.length&&(0,p.jsx)("h3",{children:"No content here!"})]})},x=t(8636),g=t(5488),m=t(9141),Z=t(2791),j=t(7689),w=function(e){var n=e.title,t=(0,Z.useState)([]),r=(0,c.Z)(t,2),u=r[0],l=r[1],d=(0,Z.useState)(1),w=(0,c.Z)(d,2),y=w[0],b=w[1],k=(0,Z.useState)("firstName"),D=(0,c.Z)(k,2),C=D[0],S=D[1],F=(0,Z.useState)(""),L=(0,c.Z)(F,2),E=L[0],N=L[1],O=(0,Z.useState)(!1),V=(0,c.Z)(O,2),q=V[0],M=V[1],z=(0,j.UO)().id;(0,Z.useEffect)((function(){(0,i.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.IP)(z,y);case 3:if(n=e.sent,!(y>1)||n.data.data.length){e.next=8;break}return b(1),alert("Sorry, there are no more events"),e.abrupt("return");case 8:l(y>1?function(e){return[].concat((0,a.Z)(e),(0,a.Z)(n.data.data))}:n.data.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[y,z]);var X=function(){return M((function(e){return!e}))},_=function(){var e=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b((function(e){return e+1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,i.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.yM)(z,n);case 2:if(t=e.sent){e.next=6;break}return alert("Failed, maybe you entered wrong dates!"),e.abrupt("return");case 6:console.log(t.data.data),l((function(e){return[].concat((0,a.Z)(e),[t.data.data])}));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=function(){var e=(0,i.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Bt)(n);case 2:if("success"===e.sent.data.status){e.next=6;break}return alert("failed to delete, pls try again"),e.abrupt("return");case 6:t=u.filter((function(e){var t=e._id;return n!==t})),l(t);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.W2,{children:[(0,p.jsx)("h2",{children:n}),(0,p.jsx)(s.z,{title:"Add",onClick:X}),(0,p.jsx)(x.Z,{currentOptions:["title","description","startDate","endDate"],handleChangeFilterOption:function(e){var n=e.target.value;S(n)},handleChangeFilterValue:function(e){var n=e.target.value;N(n)}}),(0,p.jsx)(s.z,{title:"Load More",onClick:_})]}),q&&(0,p.jsx)(g.u,{onClose:X,children:(0,p.jsx)(f,{handleCreate:A})}),(0,p.jsx)(v,{keys:["Title","Description","Start Date","End Date","Delete"],loadMore:_,events:function(){var e=E.toLowerCase();return C?u.filter((function(n){return String(n[C]).toLowerCase().includes(e)})):u}(),handleDelete:P})]})},y=function(){return(0,p.jsx)(r.x,{children:(0,p.jsx)(w,{title:"Events"})})}}}]);
//# sourceMappingURL=401.24628a64.chunk.js.map