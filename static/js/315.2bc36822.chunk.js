"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[315],{7616:function(n,e,t){t.d(e,{x:function(){return u}});var r,a=t(168),i=t(4934).Z.div(r||(r=(0,a.Z)(["\n  margin: 0 auto;\n  padding: 20px 10px;\n  border-radius: 8px;\n  min-width: 700px;\n  min-height: 200px;\n  background-color: rgb(50, 52, 59);\n"]))),c=t(184),u=function(n){n.filterOptions;var e=n.children;return(0,c.jsx)(i,{children:e})}},8636:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(184),a=function(n){var e=n.currentOptions,t=n.handleChangeFilterOption,a=n.handleChangeFilterValue;return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{name:"filter",placeholder:"Enter to search",onChange:a}),(0,r.jsx)("select",{as:"select",onChange:t,defaultValue:e[0],name:"filterOption",children:e.map((function(n){return(0,r.jsx)("option",{value:n,children:n},n)}))})]})}},7493:function(n,e,t){t.d(e,{l:function(){return u}});var r=t(184),a=t(5705),i=a.Formik,c=a.Form,u=function(n){var e=n.initialValues,t=n.onSubmit,a=n.children;return(0,r.jsx)(i,{initialValues:e,onSubmit:t,children:(0,r.jsx)(c,{children:a})})}},834:function(n,e,t){t.d(e,{Cs:function(){return b},F3:function(){return j},Fg:function(){return g},W2:function(){return Z},X2:function(){return x},gN:function(){return m},iA:function(){return h},m8:function(){return v}});var r,a,i,c,u,o,s,l,d=t(168),p=t(4934),f=t(1087),h=p.Z.table(r||(r=(0,d.Z)(["\n  position: relative;\n  min-width: 800px;\n"]))),x=p.Z.tr(a||(a=(0,d.Z)(["\n  background-color: #585a63;\n"]))),v=p.Z.th(i||(i=(0,d.Z)(["\n  padding: 10px;\n"]))),m=p.Z.td(c||(c=(0,d.Z)(["\n  text-align: center;\n  padding: 10px;\n"]))),g=(0,p.Z)(f.NavLink)(u||(u=(0,d.Z)(["\n  text-decoration: underline;\n  transition: color ",";\n  &:hover {\n    color: #e2580a;\n  }\n"])),"cubic-bezier(.06,.57,.52,.97) 300ms"),Z=p.Z.div(o||(o=(0,d.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),j=p.Z.div(s||(s=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n"]))),b=p.Z.div(l||(l=(0,d.Z)(["\n  padding: 20px;\n  display: flex;\n  border-radius: 4px;\n  gap: 10px;\n  flex-direction: column;\n\n  background-color: rgb(50, 52, 59);\n"])))},5488:function(n,e,t){t.d(e,{u:function(){return l}});var r=t(2791),a=t(184),i=t(4164).createPortal,c=t(2165),u=c.StyledModal,o=c.Overlay,s=document.querySelector("#modal-root"),l=function(n){var e=n.children,t=n.onClose;(0,r.useEffect)((function(){function n(n){"Escape"===n.code&&t()}return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[t]);return i((0,a.jsx)(o,{onClick:function(n){n.target===n.currentTarget&&t()},children:(0,a.jsx)(u,{children:e})}),s)}},2165:function(n,e,t){t.r(e),t.d(e,{Overlay:function(){return u},StyledModal:function(){return o}});var r,a,i=t(168),c=t(4934),u=c.Z.div(r||(r=(0,i.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n"]))),o=c.Z.div(a||(a=(0,i.Z)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n"])))},9141:function(n,e,t){t.d(e,{Bt:function(){return p},IP:function(){return l},Tx:function(){return o},VY:function(){return s},uk:function(){return u},yM:function(){return d}});var r=t(5861),a=t(4687),i=t.n(a),c=t(1243);c.Z.defaults.baseURL="http://localhost:8080/api";var u=function(){var n=(0,r.Z)(i().mark((function n(){var e,t,r,a=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:1,t=a.length>1&&void 0!==a[1]?a[1]:10,n.prev=2,n.next=5,c.Z.get("/authors?page=".concat(e,"&limit=").concat(t));case 5:return r=n.sent,n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(2),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(){return n.apply(this,arguments)}}(),o=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.post("/authors/",e);case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.delete("/authors/".concat(e));case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r,a,u=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:1,r=u.length>2&&void 0!==u[2]?u[2]:10,n.prev=2,n.next=5,c.Z.get("/events/author/".concat(e,"?page=").concat(t,"&limit=").concat(r));case 5:return a=n.sent,n.abrupt("return",a);case 9:n.prev=9,n.t0=n.catch(2),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(i().mark((function n(e,t){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.post("/events/author/".concat(e),t);case 3:return r=n.sent,n.abrupt("return",r);case 7:if(n.prev=7,n.t0=n.catch(0),console.error(n.t0),409!==n.t0.response.status){n.next=13;break}return alert("You can`t create event for this time!"),n.abrupt("return");case 13:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.delete("/events/".concat(e));case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},6315:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var r,a,i=t(168),c=t(4934),u=t(3433),o=t(5861),s=t(9439),l=t(4687),d=t.n(l),p=t(3535),f=t(7493),h=t(834),x=t(5705),v=t(184),m=function(n){var e=n.handleCreate;return(0,v.jsx)(f.l,{initialValues:{firstName:"",lastName:"",email:"",phoneNumber:""},onSubmit:function(n){e(n)},children:(0,v.jsxs)(h.Cs,{children:[(0,v.jsx)(x.Field,{minLength:"2",maxLength:"30",name:"firstName",required:!0,placeholder:"enter a first name"}),(0,v.jsx)(x.Field,{minLength:"2",maxLength:"30",name:"lastName",required:!0,placeholder:"enter a last name"}),(0,v.jsx)(x.Field,{minLength:"2",name:"email",type:"email",required:!0,placeholder:"enter an email"}),(0,v.jsx)(x.Field,{minLength:"2",maxLength:"15",required:!0,name:"phoneNumber",placeholder:"enter a phone number"}),(0,v.jsx)(p.z,{title:"Save",type:"submit"})]})})},g=t(8636),Z=t(5488),j=t(9141),b=t(2791),w=function(n){var e=n.keys,t=n.authors,r=n.handleDelete;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:{overflowY:"scroll",height:400},children:(0,v.jsxs)(h.iA,{children:[(0,v.jsx)("thead",{children:(0,v.jsx)(h.X2,{children:e.map((function(n){return(0,v.jsx)(h.m8,{children:n},n)}))})}),(0,v.jsx)("tbody",{children:!!t.length&&t.map((function(n){var e=n._id,t=n.firstName,a=n.lastName,i=n.email,c=n.phoneNumber,u=n.totalEvents,o=n.nextEventStartDate;return(0,v.jsxs)(h.X2,{children:[(0,v.jsx)(h.gN,{children:(0,v.jsxs)(h.Fg,{to:"/profile/".concat(e),children:[t," ",a]})}),(0,v.jsx)(h.gN,{children:i}),(0,v.jsx)(h.gN,{children:c}),(0,v.jsx)(h.gN,{children:u}),(0,v.jsx)(h.gN,{children:o}),(0,v.jsx)(h.gN,{children:(0,v.jsx)(p.z,{title:"X",onClick:function(){return r(e)}})})]},e)}))})]})}),!t.length&&(0,v.jsx)("h3",{style:{position:"absolute",top:300,left:100},children:"No content here!"})]})},y=function(n){var e=n.title,t=(0,b.useState)([]),r=(0,s.Z)(t,2),a=r[0],i=r[1],c=(0,b.useState)(1),l=(0,s.Z)(c,2),f=l[0],x=l[1],y=(0,b.useState)("firstName"),k=(0,s.Z)(y,2),N=k[0],C=k[1],F=(0,b.useState)(""),L=(0,s.Z)(F,2),S=L[0],E=L[1],O=(0,b.useState)(!1),V=(0,s.Z)(O,2),z=V[0],q=V[1];(0,b.useEffect)((function(){(0,o.Z)(d().mark((function n(){var e;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,j.uk)(f);case 3:if(e=n.sent,!(f>1)||e.data.data.length){n.next=7;break}return alert("Sorry, there are no more authors"),n.abrupt("return");case 7:i(f>1?function(n){return[].concat((0,u.Z)(n),(0,u.Z)(e.data.data))}:e.data.data),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()}),[f]);var A=function(){return q((function(n){return!n}))},D=function(){var n=(0,o.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:x((function(n){return n+1}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),M=function(){var n=(0,o.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,j.Tx)(e);case 2:if(t=n.sent){n.next=6;break}return alert("Failed to create the author, please try again and change the email"),n.abrupt("return");case 6:i((function(n){return[].concat((0,u.Z)(n),[t.data.data])})),alert("Created!"),A();case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),T=function(){var n=(0,o.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,j.VY)(e);case 2:if("success"===n.sent.data.status){n.next=6;break}return alert("failed to delete, pls try again"),n.abrupt("return");case 6:t=a.filter((function(n){var t=n._id;return e!==t})),i(t);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(h.W2,{children:[(0,v.jsx)("h2",{children:e}),(0,v.jsx)(p.z,{title:"Add",onClick:A}),(0,v.jsx)(g.Z,{currentOptions:["firstName","lastName","email","phoneNumber","totalEvents","nextEventStartDate"],handleChangeFilterOption:function(n){var e=n.target.value;C(e)},handleChangeFilterValue:function(n){var e=n.target.value;E(e)}}),(0,v.jsx)(p.z,{title:"Load More",onClick:D})]}),z&&(0,v.jsx)(Z.u,{onClose:A,children:(0,v.jsx)(m,{handleCreate:M})}),(0,v.jsx)(w,{keys:["Username","Email","Phone","Total events","Next event date","Delete"],loadMore:D,authors:function(){var n=S.toLowerCase();return N?a.filter((function(e){return String(e[N]).toLowerCase().includes(n)})):a}(),handleDelete:T})]})},k=t(7616),N=t(6009),C=c.Z.div(r||(r=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  justify-content: center;\n  align-items: center;\n  margin-top: 60px;\n  padding: 60px 0;\n  background-color: #32343b;\n"]))),F=c.Z.h3(a||(a=(0,i.Z)(["\n  font-size: 32px;\n  font-style: italic;\n"]))),L=function(){var n=(0,N.useAuth)().isLoggedIn;return(0,v.jsx)(v.Fragment,{children:n?(0,v.jsx)(k.x,{children:(0,v.jsx)(y,{title:"Authors"})}):(0,v.jsxs)(C,{children:[(0,v.jsx)(F,{children:"Welcome, my good Wayfarer \ud83d\udc4b"}),(0,v.jsx)("p",{children:"Register or Login to create events."})]})})}}}]);
//# sourceMappingURL=315.2bc36822.chunk.js.map