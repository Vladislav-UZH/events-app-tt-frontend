"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[401],{7616:function(n,e,t){t.d(e,{x:function(){return u}});var r,a=t(168),i=t(4934).Z.div(r||(r=(0,a.Z)(["\n  margin: 0 auto;\n  padding: 20px 10px;\n  border-radius: 8px;\n  min-width: 700px;\n  min-height: 200px;\n  background-color: rgb(50, 52, 59);\n"]))),c=t(184),u=function(n){n.filterOptions;var e=n.children;return(0,c.jsx)(i,{children:e})}},8636:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(184),a=function(n){var e=n.currentOptions,t=n.handleChangeFilterOption,a=n.handleChangeFilterValue;return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{name:"filter",placeholder:"Enter to search",onChange:a}),(0,r.jsx)("select",{as:"select",onChange:t,defaultValue:e[0],name:"filterOption",children:e.map((function(n){return(0,r.jsx)("option",{value:n,children:n},n)}))})]})}},7493:function(n,e,t){t.d(e,{l:function(){return u}});var r=t(184),a=t(5705),i=a.Formik,c=a.Form,u=function(n){var e=n.initialValues,t=n.onSubmit,a=n.children;return(0,r.jsx)(i,{initialValues:e,onSubmit:t,children:(0,r.jsx)(c,{children:a})})}},834:function(n,e,t){t.d(e,{Cs:function(){return w},F3:function(){return j},Fg:function(){return m},W2:function(){return Z},X2:function(){return v},gN:function(){return g},iA:function(){return h},m8:function(){return x}});var r,a,i,c,u,o,s,l,d=t(168),p=t(4934),f=t(1087),h=p.Z.table(r||(r=(0,d.Z)(["\n  position: relative;\n  min-width: 800px;\n"]))),v=p.Z.tr(a||(a=(0,d.Z)(["\n  background-color: #585a63;\n"]))),x=p.Z.th(i||(i=(0,d.Z)(["\n  padding: 10px;\n"]))),g=p.Z.td(c||(c=(0,d.Z)(["\n  text-align: center;\n  padding: 10px;\n"]))),m=(0,p.Z)(f.NavLink)(u||(u=(0,d.Z)(["\n  text-decoration: underline;\n  transition: color ",";\n  &:hover {\n    color: #e2580a;\n  }\n"])),"cubic-bezier(.06,.57,.52,.97) 300ms"),Z=p.Z.div(o||(o=(0,d.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),j=p.Z.div(s||(s=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n"]))),w=p.Z.div(l||(l=(0,d.Z)(["\n  padding: 20px;\n  display: flex;\n  border-radius: 4px;\n  gap: 10px;\n  flex-direction: column;\n\n  background-color: rgb(50, 52, 59);\n"])))},5488:function(n,e,t){t.d(e,{u:function(){return l}});var r=t(2791),a=t(184),i=t(4164).createPortal,c=t(2165),u=c.StyledModal,o=c.Overlay,s=document.querySelector("#modal-root"),l=function(n){var e=n.children,t=n.onClose;(0,r.useEffect)((function(){function n(n){"Escape"===n.code&&t()}return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[t]);return i((0,a.jsx)(o,{onClick:function(n){n.target===n.currentTarget&&t()},children:(0,a.jsx)(u,{children:e})}),s)}},2165:function(n,e,t){t.r(e),t.d(e,{Overlay:function(){return u},StyledModal:function(){return o}});var r,a,i=t(168),c=t(4934),u=c.Z.div(r||(r=(0,i.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n"]))),o=c.Z.div(a||(a=(0,i.Z)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n"])))},9141:function(n,e,t){t.d(e,{Bt:function(){return p},IP:function(){return l},Tx:function(){return o},VY:function(){return s},uk:function(){return u},yM:function(){return d}});var r=t(5861),a=t(4687),i=t.n(a),c=t(1243);c.Z.defaults.baseURL="http://localhost:8080/api";var u=function(){var n=(0,r.Z)(i().mark((function n(){var e,t,r,a=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:1,t=a.length>1&&void 0!==a[1]?a[1]:10,n.prev=2,n.next=5,c.Z.get("/authors?page=".concat(e,"&limit=").concat(t));case 5:return r=n.sent,n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(2),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(){return n.apply(this,arguments)}}(),o=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.post("/authors/",e);case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.delete("/authors/".concat(e));case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r,a,u=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:1,r=u.length>2&&void 0!==u[2]?u[2]:10,n.prev=2,n.next=5,c.Z.get("/events/author/".concat(e,"?page=").concat(t,"&limit=").concat(r));case 5:return a=n.sent,n.abrupt("return",a);case 9:n.prev=9,n.t0=n.catch(2),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(i().mark((function n(e,t){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.post("/events/author/".concat(e),t);case 3:return r=n.sent,n.abrupt("return",r);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.delete("/events/".concat(e));case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},3401:function(n,e,t){t.r(e),t.d(e,{default:function(){return b}});var r=t(7616),a=t(3433),i=t(5861),c=t(9439),u=t(4687),o=t.n(u),s=t(3535),l=t(7493),d=t(834),p=t(5705),f=t(184),h=function(n){var e=n.handleCreate,t=/^(19|20)\d\d[- /.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])$/;return(0,f.jsx)(l.l,{initialValues:{title:"",description:"",startDate:"",endDate:""},onSubmit:function(n){var t=new Date(n.startDate);new Date(n.endDate)<t?alert("End date should be greater than or equal to start date."):e(n)},children:(0,f.jsxs)(d.Cs,{children:[(0,f.jsx)(p.Field,{minLength:"2",maxLength:"30",name:"title",required:!0,placeholder:"enter a title"}),(0,f.jsx)(p.Field,{minLength:"2",maxLength:"100",as:"textarea",name:"description",required:!0,placeholder:"enter a description"}),(0,f.jsx)(p.Field,{name:"startDate",type:"date",pattern:t,required:!0}),(0,f.jsx)(p.Field,{name:"endDate",type:"date",pattern:t,required:!0}),(0,f.jsx)(s.z,{title:"Save",type:"submit"})]})})},v=function(n){var e=n.keys,t=n.events,r=n.handleDelete;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{style:{overflowY:"scroll",height:400},children:(0,f.jsxs)(d.iA,{children:[(0,f.jsx)("thead",{children:(0,f.jsx)(d.X2,{children:e.map((function(n){return(0,f.jsx)(d.m8,{children:n},n)}))})}),(0,f.jsx)("tbody",{children:!!t.length&&t.map((function(n){var e=n._id,t=n.title,a=n.description,i=n.startDate,c=n.endDate;return(0,f.jsxs)(d.X2,{children:[(0,f.jsx)(d.gN,{children:t}),(0,f.jsx)(d.gN,{children:a}),(0,f.jsx)(d.gN,{children:i}),(0,f.jsx)(d.gN,{children:c}),(0,f.jsx)(d.gN,{children:(0,f.jsx)(s.z,{title:"X",onClick:function(){return r(e)}})})]},e)}))})]})}),!t.length&&(0,f.jsx)("h3",{style:{position:"absolute",top:300,left:100},children:"No content here!"})]})},x=t(8636),g=t(5488),m=t(9141),Z=t(2791),j=t(7689),w=function(n){var e=n.title,t=(0,Z.useState)([]),r=(0,c.Z)(t,2),u=r[0],l=r[1],p=(0,Z.useState)(1),w=(0,c.Z)(p,2),b=w[0],y=w[1],k=(0,Z.useState)("firstName"),C=(0,c.Z)(k,2),D=C[0],F=C[1],S=(0,Z.useState)(""),L=(0,c.Z)(S,2),E=L[0],N=L[1],O=(0,Z.useState)(!1),V=(0,c.Z)(O,2),q=V[0],M=V[1],z=(0,j.UO)().id;(0,Z.useEffect)((function(){(0,i.Z)(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,m.IP)(z,b);case 3:if(e=n.sent,!(b>1)||e.data.data.length){n.next=8;break}return y(1),alert("Sorry, there are no more events"),n.abrupt("return");case 8:l(b>1?function(n){return[].concat((0,a.Z)(n),(0,a.Z)(e.data.data))}:e.data.data),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()}),[b,z]);var X=function(){return M((function(n){return!n}))},_=function(){var n=(0,i.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:y((function(n){return n+1}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),A=function(){var n=(0,i.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.yM)(z,e);case 2:if(t=n.sent){n.next=6;break}return alert("Failed, maybe you entered wrong dates or the start date is already taken !"),n.abrupt("return");case 6:l((function(n){return[].concat((0,a.Z)(n),[t.data.data])})),alert("Created!"),X();case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),P=function(){var n=(0,i.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.Bt)(e);case 2:if("success"===n.sent.data.status){n.next=6;break}return alert("failed to delete, pls try again"),n.abrupt("return");case 6:t=u.filter((function(n){var t=n._id;return e!==t})),l(t);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(d.W2,{children:[(0,f.jsx)("h2",{children:e}),(0,f.jsx)(s.z,{title:"Add",onClick:X}),(0,f.jsx)(x.Z,{currentOptions:["title","description","startDate","endDate"],handleChangeFilterOption:function(n){var e=n.target.value;F(e)},handleChangeFilterValue:function(n){var e=n.target.value;N(e)}}),(0,f.jsx)(s.z,{title:"Load More",onClick:_})]}),q&&(0,f.jsx)(g.u,{onClose:X,children:(0,f.jsx)(h,{handleCreate:A})}),(0,f.jsx)(v,{keys:["Title","Description","Start Date","End Date","Delete"],loadMore:_,events:function(){var n=E.toLowerCase();return D?u.filter((function(e){return String(e[D]).toLowerCase().includes(n)})):u}(),handleDelete:P})]})},b=function(){return(0,f.jsx)(r.x,{children:(0,f.jsx)(w,{title:"Events"})})}}}]);
//# sourceMappingURL=401.5f542720.chunk.js.map